(function(){var n=angular.module("angularFileUpload",[]);n.service("$upload",["$http","$rootScope","$timeout",function(n,t,i){function r(t){t.method=t.method||"POST";t.headers=t.headers||{};t.transformRequest=t.transformRequest||function(t){return window.ArrayBuffer&&t instanceof ArrayBuffer?t:n.defaults.transformRequest[0](t)};window.XMLHttpRequest.__isShim&&(t.headers.__setXHR_=function(){return function(n){t.__XHR=n;n.upload.addEventListener("progress",function(n){t.progress&&i(function(){t.progress&&t.progress(n)})},!1);n.upload.addEventListener("load",function(n){n.lengthComputable&&i(function(){t.progress&&t.progress(n)})},!1)}});var r=n(t);return r.progress=function(n){return t.progress=n,r},r.abort=function(){return t.__XHR&&i(function(){t.__XHR.abort()}),r},r.then=function(n,i){return function(r,u,f){t.progress=f||t.progress;var e=i.apply(n,[r,u,f]);return e.abort=n.abort,e.progress=n.progress,e}}(r,r.then),r}this.upload=function(t){var f,o,u,s,e,h,i;if(t.headers=t.headers||{},t.headers["Content-Type"]=undefined,t.transformRequest=t.transformRequest||n.defaults.transformRequest,f=new FormData,t.data)for(o in t.data)if(u=t.data[o],t.formDataAppender)t.formDataAppender(f,o,u);else{if(typeof t.transformRequest=="function")u=t.transformRequest(u);else for(i=0;i<t.transformRequest.length;i++)s=t.transformRequest[i],typeof s=="function"&&(u=s(u));f.append(o,u)}if(t.transformRequest=angular.identity,e=t.fileFormDataName||"file",Object.prototype.toString.call(t.file)==="[object Array]")for(h=Object.prototype.toString.call(e)==="[object String]",i=0;i<t.file.length;i++)f.append(h?e+i:e[i],t.file[i],t.file[i].name);else f.append(e,t.file,t.file.name);return t.data=f,r(t)};this.http=function(n){return r(n)}}]);n.directive("ngFileSelect",["$parse","$http","$timeout",function(n,t,i){return function(t,r,u){var f=n(u.ngFileSelect);r.bind("change",function(n){var e=[],r,u;if(r=n.target.files,r!=null)for(u=0;u<r.length;u++)e.push(r.item(u));i(function(){f(t,{$files:e,$event:n})})});r.bind("click",function(){this.value=null})}}]);n.directive("ngFileDropAvailable",["$parse","$http","$timeout",function(n,t,i){return function(t,r,u){if("draggable"in document.createElement("span")){var f=n(u.ngFileDropAvailable);i(function(){f(t)})}}}]);n.directive("ngFileDrop",["$parse","$http","$timeout",function(n,t,i){return function(t,r,u){if("draggable"in document.createElement("span")){var f=null,e=n(u.ngFileDrop);r[0].addEventListener("dragover",function(n){i.cancel(f);n.stopPropagation();n.preventDefault();r.addClass(u.ngFileDragOverClass||"dragover")},!1);r[0].addEventListener("dragleave",function(){f=i(function(){r.removeClass(u.ngFileDragOverClass||"dragover")})},!1);r[0].addEventListener("drop",function(n){n.stopPropagation();n.preventDefault();r.removeClass(u.ngFileDragOverClass||"dragover");var s=[],o=n.dataTransfer.files,f;if(o!=null)for(f=0;f<o.length;f++)s.push(o.item(f));i(function(){e(t,{$files:s,$event:n})})},!1)}}}])})();
/*
//# sourceMappingURL=angular-file-upload.min.js.map
*/